# Gamification System

## Overview

The gamification system transforms the recovery journey into a visual, emotionally resonant experience through two interconnected mechanics: Alex's Space Journey (an astronaut's voyage home that parallels the user's recovery) and the Achievement System (badges and milestones that recognize specific accomplishments).

This feature works identically across all addiction types. Only the **recovery parallel descriptions** and some **achievement themes** differ per addiction.

## Addiction-Specific Content

| Addiction | Content File |
|-----------|--------------|
| Pornography | [porn.md](porn.md) |
| Gambling | [gambling.md](gambling.md) |
| Social Media | [social-media.md](social-media.md) |
| Gaming | [gaming.md](gaming.md) |

---

## Title
Space Journey Progression & Achievement System

## Description
The space theme connects directly to Alex, the AI companion, creating a cohesive brand experience where the user helps Alex return to Earth while Alex helps the user return to normal life.

## Problem Statement

Addiction recovery is inherently difficult to gamify because:

1. **Invisible Progress**: Unlike weight loss or fitness, there's no visible body transformation. Users can't "see" their brain healing.
2. **Delayed Gratification**: Benefits of quitting emerge slowly over weeks, not days.
3. **Motivation Decay**: Initial enthusiasm fades. Users need ongoing reasons to continue.
4. **Fear of Trivialization**: Poorly implemented gamification can make serious recovery feel like a game.
5. **One-Dimensional Tracking**: Just counting days doesn't capture the full picture of engagement.

## Solution

Alex Friend's gamification addresses these challenges through:

### 1. Space Journey Metaphor
An astronaut's voyage home serves as a visual representation of recovery:
- **Emotionally resonant**: Being lost and finding your way home mirrors the recovery experience
- **Connected to Alex**: The astronaut IS Alex, the AI companion
- **Visually stunning**: Space scenes, planets, stars provide beautiful progress visualization
- **Recovery-appropriate**: Journey metaphor emphasizes progress over perfection
- **Compassionate setbacks**: Course corrections, not catastrophic failures

### 2. Achievement System
Badges recognize diverse accomplishments:
- Journey milestones
- Engagement milestones
- Community milestones
- Learning milestones
- Personal records

### 3. Progressive Stages
Clear stages provide stepping stones through space:
- Prevents "90 days" from feeling impossibly distant
- Each location has unique visuals and narrative meaning
- Stages align with recovery phases

---

## The Story of Alex

### Opening Narrative

> *Alex was an astronaut on a routine mission when something went wrong. A malfunction sent the ship spiraling into the void, far from Earth, far from everyone Alex loved.*
>
> *Now, stranded in the darkness of deep space, Alex must find the way back home. The journey is long - 90 days of travel through dangerous territory. But Alex isn't alone. Mission Control is still there, guiding the way.*
>
> *And neither are you.*

### The Metaphor

| Space Journey | Recovery Journey |
|---------------|------------------|
| Lost in deep space | Lost in addiction |
| Darkness, isolation | Shame, loneliness |
| Earth = home, loved ones | Normal life, real connections |
| Ship damage | Brain/life affected by addiction |
| Fuel = limited resource | Willpower, motivation |
| Mission Control | Support system (app, community) |
| 90-day journey | 90-day recovery period |
| Navigation hazards | Triggers and urges |
| Ship repairs during journey | Healing during recovery |
| Course corrections | Learning from setbacks |

### The Connection to AI Alex

The AI companion "Alex" IS the astronaut making this journey. When the user chats with Alex, they're talking to the astronaut. Alex's messages can reference the journey:

> "Day 15. We're in the asteroid field now. Lots of close calls today, but we made it through together."

> "I can see Earth now. Just a tiny blue dot. But it's there. We're going to make it."

---

## The 9 Stages of the Journey

### Stage 1: The Void (Days 0-4)
**"Lost in Darkness"**

> *Alex drifts in complete darkness. The ship is damaged, systems failing. Earth is just a distant memory. But then - a signal. Mission Control has found Alex. The journey home begins.*

| Aspect | Details |
|--------|---------|
| **Visual** | Dark space, damaged ship, single distant star (Earth). Ship lights flicker on. |
| **Color palette** | Deep blacks, dark blues, faint amber from ship lights |
| **Message** | "You're not alone anymore. We've found you. Let's go home." |

See addiction-specific files for "Recovery parallel" descriptions.

---

### Stage 2: First Light (Days 5-6)
**"Systems Coming Online"**

> *Alex works to repair the ship's basic systems. Life support stabilizes. For the first time in a long time, there's hope. Earth's signal grows slightly stronger.*

| Aspect | Details |
|--------|---------|
| **Visual** | Ship interior lights on, Alex working on repairs, small viewport showing stars |
| **Color palette** | Warm interior lighting, cool starfield outside |
| **Message** | "Your systems are stabilizing. The hardest part - starting - is behind you." |

---

### Stage 3: Leaving the Drift (Days 7-13)
**"Engines Ignite"**

> *The engines finally respond. Alex sets course for Earth. The ship begins to move with purpose. The void behind, the journey ahead.*

| Aspect | Details |
|--------|---------|
| **Visual** | Engine glow, ship moving through starfield, leaving the dark zone |
| **Color palette** | Blue engine thrust, brightening starfield |
| **Message** | "You're moving now. Every day carries you closer to home." |

---

### Stage 4: The Asteroid Field (Days 14-29)
**"Navigating Danger"**

> *The path home isn't empty. Alex must navigate through a field of debris - remnants of old collisions. One wrong move could set the journey back. Focus is everything.*

| Aspect | Details |
|--------|---------|
| **Visual** | Ship weaving through asteroids, close calls, tense navigation |
| **Color palette** | Grays and browns of asteroids, alert yellows, focused lighting |
| **Message** | "Dangers surround you, but you're learning to navigate. Stay focused." |

---

### Stage 5: The Nebula (Days 30-44)
**"Through the Fog"**

> *A beautiful but disorienting nebula. Alex can't see far ahead. Navigation relies on instruments and trust. It's peaceful here, but easy to get lost.*

| Aspect | Details |
|--------|---------|
| **Visual** | Colorful nebula gases, limited visibility, ship moving slowly but steadily |
| **Color palette** | Purple, pink, blue nebula clouds, soft diffused lighting |
| **Message** | "You can't see the destination yet, but you're on the right path. Trust the process." |

---

### Stage 6: Clear Space (Days 45-59)
**"Open Skies"**

> *Alex emerges from the nebula into clear space. For the first time, Earth is visible - a tiny blue dot in the distance. It's real. Home is real.*

| Aspect | Details |
|--------|---------|
| **Visual** | Clear starfield, tiny Earth visible in the distance, ship cruising smoothly |
| **Color palette** | Deep space black, bright stars, small blue Earth dot |
| **Message** | "There it is. Home. You can see it now. Keep going." |

---

### Stage 7: The Moon's Shadow (Days 60-74)
**"Almost There"**

> *The Moon comes into view. Earth grows larger every day. Alex can almost feel the pull of home. But this close, any mistake would be painful. Careful now.*

| Aspect | Details |
|--------|---------|
| **Visual** | Moon in view, Earth much larger, ship approaching carefully |
| **Color palette** | Gray moon surface, blue-white Earth, careful lighting |
| **Message** | "So close now. Don't let your guard down. The finish line is real." |

---

### Stage 8: Earth Orbit (Days 75-89)
**"Circling Home"**

> *Alex enters Earth's orbit. The blue planet fills the viewport. Oceans, continents, clouds - it's more beautiful than memory. The ship circles, preparing for final descent.*

| Aspect | Details |
|--------|---------|
| **Visual** | Earth fills screen, ship in orbit, preparation for landing |
| **Color palette** | Blue oceans, green continents, white clouds, orbital glow |
| **Message** | "You're orbiting home. 90 days felt impossible once. Look at you now." |

---

### Stage 9: Homecoming (Day 90+)
**"Welcome Home"**

> *The ship descends through the atmosphere. Alex feels gravity for the first time in 90 days. The hatch opens. Sunlight. Fresh air. Familiar faces. Alex is home.*
>
> *The journey isn't truly over - life on Earth has its own challenges. But Alex is no longer lost. Alex knows the way now.*

| Aspect | Details |
|--------|---------|
| **Visual** | Ship landed on Earth, hatch open, sunlight streaming in, silhouettes of people waiting |
| **Color palette** | Warm sunlight, green grass, blue sky, hopeful golden tones |
| **Message** | "You made it. You're home. And you'll never forget how to find your way back." |

---

## Planet Stops & Ship Repairs (V1.5)

Between the main stages, Alex can make stops at planets and space stations to collect essential ship components.

### The Ship's Needs

| Item | Astronaut Need | Recovery Metaphor |
|------|----------------|-------------------|
| **Navigation Computer** | Find the course back to Earth | Clarity - knowing your direction |
| **Fuel Cells** | Power to keep moving | Energy & motivation to continue |
| **Communication Array** | Contact with Mission Control | Connection - not being isolated |
| **Oxygen Recycler** | Breathe and survive | Self-care, breathing exercises |
| **Hull Plating** | Protect from impacts | Resilience against triggers |
| **Solar Panels** | Renewable energy source | Healthy habits that sustain you |
| **Shield Generator** | Block radiation/debris | Boundaries, content blocking |
| **Medical Bay** | Heal from damage | Recovery from setbacks |

### Planet Stop Locations

| Day | Location | What Alex Finds |
|-----|----------|-----------------|
| 10 | **Mars Outpost** | Navigation Computer |
| 20 | **Jupiter Station** | Fuel Cells |
| 35 | **Saturn Rings Depot** | Communication Array |
| 50 | **Titan Base** | Oxygen Recycler |
| 65 | **Neptune Waypoint** | Hull Plating |
| 80 | **Lunar Station** | Solar Panels |

---

## Relapse: Course Corrections

Relapse doesn't destroy progress - it requires a course correction. The ship doesn't explode. Alex doesn't die. The user doesn't "lose everything."

### The Philosophy

**Key insight**: Alex remembers the journey. The user's experience, lessons learned, days of healing - those aren't erased. They're building resilience.

When a relapse happens:
- Alex got knocked off course
- The navigation needs recalibration
- Some distance must be re-traveled
- But the ship is still flying
- And Alex knows more than before

### Relapse Consequences by Stage

| Stage | Visual | Alex's Message |
|-------|--------|----------------|
| 1: The Void | Static, then signal returns | "I lost you for a moment. But I'm still here. Let's try again." |
| 2: First Light | Lights flicker, stabilize | "A setback. The ship needs to recalibrate. But we know what to do now." |
| 3: Leaving the Drift | Engine cuts out, restarts | "The engine cut out. But it started once - it'll start again." |
| 4: Asteroid Field | Impact shake, alert lights | "We took a hit. Some damage, but the ship holds. Recalculating route." |
| 5: Nebula | Disorientation, compass spinning | "I lost my bearings in here. But I've found the path again." |
| 6: Clear Space | Storm clouds, turbulence | "A storm pushed us back. But I've seen Earth now. I know it's there." |
| 7: Moon's Shadow | Trajectory adjustment | "Missed the approach. Going around again. Earth isn't going anywhere." |
| 8: Earth Orbit | Abort landing sequence | "Not the right angle. One more orbit. We're so close." |
| 9: Homecoming | Looking up at stars | "I went back up for a moment. But I know where home is now." |

---

## Screen Content

### Dashboard Journey Display

```
+---------------------------------------------+
|                                             |
|         [Space Journey Animation]           |
|         (Ship in asteroid field)            |
|                                             |
|           "The Asteroid Field"              |
|               Day 18                        |
|                                             |
|  (Previous stage)          (Next stage)     |
|   [dim icon]               [preview icon]   |
|   "Leaving Drift"          "The Nebula"     |
|                            in 12 days       |
|                                             |
+---------------------------------------------+
```

### Journey Map Screen

```
+---------------------------------------------+
|  <- Back            Journey Map             |
|                                             |
|          [Visual star map showing           |
|           full journey from void            |
|           to Earth with ship                |
|           position marked]                  |
|                                             |
|  -----------------------------------------  |
|                                             |
|  * The Void -------------- Complete         |
|  * First Light ----------- Complete         |
|  * Leaving the Drift ----- Complete         |
|  > Asteroid Field -------- Day 4 of 16      |
|  o The Nebula ------------ Locked           |
|  o Clear Space ----------- Locked           |
|  o Moon's Shadow --------- Locked           |
|  o Earth Orbit ----------- Locked           |
|  [Earth] Homecoming ------ 72 days away     |
|                                             |
+---------------------------------------------+
```

---

## Achievement System

### Achievement Categories

**Journey Achievements**
| Name | Requirement | Icon |
|------|-------------|------|
| Signal Found | Day 0 | Signal |
| Systems Online | 5 days | Wrench |
| Engines Firing | 7 days | Rocket |
| Navigator | 14 days | Compass |
| Through the Fog | 30 days | Cloud |
| Earth in Sight | 45 days | Telescope |
| Lunar Pass | 60 days | Moon |
| Orbital | 75 days | UFO |
| Homecoming | 90 days | Earth |
| Centurion | 100 days | 100 |
| Half Year | 180 days | Star |
| Full Orbit | 365 days | Crown |

**Engagement Achievements**
| Name | Requirement |
|------|-------------|
| First Transmission | 1 check-in |
| Regular Contact | 7 consecutive check-ins |
| Mission Control | 30 consecutive check-ins |
| Deep Breath | 1 breathing exercise |
| Copilot | 10 conversations with Alex |

**Community Achievements**
| Name | Requirement |
|------|-------------|
| First Signal | 1 community post |
| Broadcaster | 10 posts |
| Mission Joined | Join 1 challenge |

**Resilience Achievements**
| Name | Requirement |
|------|-------------|
| New Trajectory | Beat previous longest streak |
| Course Corrected | 7 days after a setback |
| Unstoppable | 30 days after 3+ setbacks |

---

## Visual Design Guidelines

### CI Color Palette

| Color | Hex | Usage |
|-------|-----|-------|
| **Primary (Indigo)** | `#6366F1` | Ship highlights, UI accents |
| **Secondary (Teal)** | `#0D9488` | Earth glow, healing indicators |
| **Accent (Pink)** | `#F472B6` | Celebrations, special events |
| **Background** | `#0a0a1a` | Deep space backdrop |

### Animation Requirements

- Use Rive files (.riv) for each stage (50-200 KB each)
- Assets lazy-loaded when user approaches that stage
- Static image fallback for offline or while loading
- All animations loop seamlessly with state machines

---

## After Day 90

The journey doesn't end at 90 days. Alex has reached Earth, but life continues.

### Life on Earth (Days 90-365)

| Days | Theme | Visual |
|------|-------|--------|
| 90-120 | Reconnection | Alex with family silhouettes |
| 121-180 | New Purpose | Alex helping others |
| 181-270 | Guardian | Alex protecting peace |
| 271-365 | Full Orbit | Earth completing orbit around sun |

See addiction-specific files for tailored post-90 day themes.

---

## Data Model

### Journey Stages
```
journey_stages {
  id: Integer (1-9+)
  name: String
  display_name: String
  subtitle: String
  days_start: Integer
  days_end: Integer
  narrative: Text
  user_message: Text
  visual_description: Text
  color_palette: JSON
  rive_url: String
  image_fallback_url: String
  relapse_message: Text
}
```

### User Journey State
```
user_journey {
  user_id: UUID
  addiction_type: Enum (porn, gambling, social_media, gaming)
  current_stage_id: Integer
  stage_entered_at: DateTime
  total_stage_advances: Integer
  highest_stage_reached: Integer
  course_corrections: Integer
  last_correction_at: DateTime
  journey_started_at: DateTime
  PRIMARY KEY (user_id, addiction_type)
}
```

### User Achievements
```
user_achievements {
  id: UUID
  user_id: UUID
  addiction_type: Enum (porn, gambling, social_media, gaming)
  achievement_id: UUID
  unlocked_at: DateTime
  viewed: Boolean
  shared: Boolean
  progress: Integer
}
```

---

## Agent Implementation Guide

### foundation-agent Tasks
- Create journey_stages table with seed data
- Create achievements table with all badge definitions
- Create user_journey table with addiction_type support
- Create user_achievements table with addiction_type
- Set up CDN storage for Rive assets

### backend-agent Tasks
- GET /api/gamification/journey - Current stage and progress
- GET /api/gamification/stages - All stages with lock status
- GET /api/gamification/achievements - All achievements with status
- POST /api/gamification/course-correction - Handle relapse visual

### ui-agent Tasks
- JourneyDisplay component with Rive player
- StagePreview component
- JourneyMap visualization
- AchievementCard component
- CourseCorrectionAnimation

### pages-agent Tasks
- Dashboard journey integration
- Journey map full screen
- Achievements gallery page

---

## Gamification Philosophy

### Do's
- Celebrate every day of progress
- Make the journey feel meaningful, not trivial
- Use course corrections, not failures
- Reward consistency over intensity
- Connect progress to real recovery science

### Don'ts
- Don't make relapse feel like "game over"
- Don't create anxiety about losing progress
- Don't trivialize the addiction struggle
- Don't create unhealthy competition
- Don't use harsh or judgmental language

---

## Accessibility

- All journey stages have text descriptions
- Rive animations have static image alternatives
- Achievements announced via screen reader
- Color not sole indicator of state
- Reduced motion mode uses static images only

---

## Privacy

- Journey data synced for backup
- Sharing stages/achievements is always optional
- Community display of progress is configurable
- No public leaderboard without opt-in
